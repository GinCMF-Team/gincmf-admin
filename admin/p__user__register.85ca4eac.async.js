(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{gzBs:function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var r=t("ylX1"),n=t.n(r),c=t("LpHj"),s=t("t3Un");function l(){return i.apply(this,arguments)}function i(){return i=Object(c["a"])(n.a.mark((function e(){var a,t=arguments;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:[],e.abrupt("return",Object(s["b"])("/api/sms_code",{method:"POST",data:a}));case 2:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}},qq80:function(e,a,t){"use strict";t.r(a);t("5gj+");var r=t("DLRi"),n=(t("UF9i"),t("QuTp")),c=(t("oeJl"),t("vIdV")),s=(t("Vu0C"),t("+u9j")),l=(t("3IzS"),t("qLOE")),i=(t("Lwm9"),t("kY+7")),u=t("ylX1"),o=t.n(u),m=(t("KLga"),t("F34e")),p=t("LpHj"),f=t("4+7e"),d=t("xwgP"),h=t.n(d),b=t("DndG"),g=t("XZWv"),v=t("6l4u"),E={icon:function(e,a){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304z",fill:e}},{tag:"path",attrs:{d:"M232 840h560V536H232v304zm280-226a48.01 48.01 0 0128 87v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53a48.01 48.01 0 0128-87z",fill:a}},{tag:"path",attrs:{d:"M484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z",fill:e}}]}},name:"lock",theme:"twotone"},w=E,x=t("XSrM"),j=function(e,a){return d["createElement"](x["a"],Object.assign({},e,{ref:a,icon:w}))};j.displayName="LockTwoTone";var O=d["forwardRef"](j),k=t("gzBs"),I=t("t3Un");function z(){return y.apply(this,arguments)}function y(){return y=Object(p["a"])(o.a.mark((function e(){var a,t=arguments;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:[],e.abrupt("return",Object(I["b"])("/api/tenant/register",{method:"POST",data:a}));case 2:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}var _=t("sYde"),N=t.n(_),S=function(){var e=Object(d["useState"])(!1),a=Object(f["a"])(e,2),t=a[0],u=a[1],E=Object(d["useState"])(120),w=Object(f["a"])(E,2),x=w[0],j=w[1],I=Object(d["useState"])(!1),y=Object(f["a"])(I,2),_=y[0],S=y[1],V=Object(d["useCallback"])(function(){var e=Object(p["a"])(o.a.mark((function e(a){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(k["a"])({mobile:a});case 2:if(t=e.sent,console.log("code",t),0!==t.code){e.next=7;break}return m["b"].error(t.msg),e.abrupt("return");case 7:m["b"].success(t.msg),S(!0);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[]),q=function(){var e=Object(p["a"])(o.a.mark((function e(a){var r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return m["b"].error("\u8bf7\u5148\u540c\u610f\u6ce8\u518c\u534f\u8bae"),e.abrupt("return");case 3:return e.next=5,z(a);case 5:if(r=e.sent,console.log(r),0!==r.code){e.next=10;break}return m["b"].error(r.msg),e.abrupt("return");case 10:m["b"].success(r.msg);case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(d["useEffect"])((function(){var e=0;return _&&(e=window.setInterval((function(){j((function(a){return console.log("preSecond",a),a<=1?(S(!1),clearInterval(e),120):a-1}))}),1e3)),function(){return clearInterval(e)}}),[_]),h.a.createElement("div",{className:N.a.main},h.a.createElement("h3",null,"\u6ce8\u518c"),h.a.createElement(l["a"],{onFinish:q},h.a.createElement(l["a"].Item,{name:"mobile",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"}]},h.a.createElement(i["a"],{size:"large",prefix:h.a.createElement(g["a"],{className:N.a.prefixIcon}),placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"})),h.a.createElement(l["a"].Item,{shouldUpdate:!0,noStyle:!0},(function(e){var a=e.getFieldValue;return h.a.createElement(n["a"],{gutter:0},h.a.createElement(s["a"],{span:16},h.a.createElement(l["a"].Item,{name:"sms_code",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u9a8c\u8bc1\u7801\uff01"}]},h.a.createElement(i["a"],{prefix:h.a.createElement(v["a"],{className:N.a.prefixIcon}),size:"large",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u9a8c\u8bc1\u7801"}))),h.a.createElement(s["a"],{style:{textAlign:"right"},span:8},h.a.createElement(c["a"],{disabled:_,className:N.a.getCaptcha,size:"large",onClick:function(){var e=a("mobile");void 0===e||""===e?m["b"].error("\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a\uff01"):V(e)}},_?"".concat(x," \u79d2"):"\u83b7\u53d6\u9a8c\u8bc1\u7801")))})),h.a.createElement(l["a"].Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8981\u8bbe\u7f6e\u7684\u5bc6\u7801\uff01"}]},h.a.createElement(i["a"].Password,{size:"large",prefix:h.a.createElement(O,{className:N.a.prefixIcon}),placeholder:"\u8bf7\u8f93\u5165\u8981\u8bbe\u7f6e\u7684\u5bc6\u7801"})),h.a.createElement(l["a"].Item,{name:"repass",rules:[{required:!0,message:"\u8bf7\u786e\u8ba4\u60a8\u8bbe\u7f6e\u7684\u5bc6\u7801\uff01"}]},h.a.createElement(i["a"].Password,{size:"large",prefix:h.a.createElement(O,{className:N.a.prefixIcon}),placeholder:"\u8bf7\u786e\u8ba4\u60a8\u8bbe\u7f6e\u7684\u5bc6\u7801"})),h.a.createElement("div",null,h.a.createElement(r["a"],{checked:t,onChange:function(e){return u(e.target.checked)}},"\u6211\u5df2\u7ecf\u540c\u610f",h.a.createElement("a",null,"\u300a\u6ce8\u518c\u534f\u8bae\u300b"))),h.a.createElement(l["a"].Item,null,h.a.createElement(c["a"],{size:"large",type:"primary",htmlType:"submit",className:N.a.submit},"\u7acb\u5373\u6ce8\u518c")),h.a.createElement("div",{className:N.a.other},h.a.createElement(b["a"],{className:N.a.register,to:"/user/login"},"\u4f7f\u7528\u5df2\u6709\u8d26\u53f7\u767b\u5f55"))))};a["default"]=S},sYde:function(e,a,t){e.exports={main:"main___2kx2N",prefixIcon:"prefixIcon___2lDRe",submit:"submit___34wM2",other:"other___1b6DE"}}}]);